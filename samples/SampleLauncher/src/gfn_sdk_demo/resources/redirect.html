
<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>
    <script>
        var idToken;
        var errorResult;
        var urlParams = new URLSearchParams(window.location.search);
        var error = urlParams.get('error');

        if (error !== null && error !== '') {
            errorResult + param[1];
            console.log('Error encountered getting token information: ' + errorResult);
        }
        else {
            if (window.location.hash && window.location.hash.substr(1)) {
                var fragmentParameters = window.location.hash.substr(1);
                if (fragmentParameters) {
                    console.log('fragmentParameters: ' + fragmentParameters);
                    var fragmentSectionEl = document.getElementById('fragment-params');
                    for (const item of fragmentParameters.split('&')) {
                        var param = item.split('=');
                        if (param[0] === 'id_token') {
                            idToken = param[1];
                        }
                    }
                }
            }
        }
        window.opener.postMessage({
            idToken: idToken,
            result: errorResult
        }, '*');
    </script>
</body>
</html>